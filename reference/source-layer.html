<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="List of methods that allow compatibility of different source types.
Most of the methods should be defined in order to make new source layer functioning.
See 'Details' section for more information."><title>Source compatibility methods. — source-layer • cohortBuilder</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.1.0/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.1.0/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Source compatibility methods. — source-layer"><meta property="og:description" content="List of methods that allow compatibility of different source types.
Most of the methods should be defined in order to make new source layer functioning.
See 'Details' section for more information."><meta property="og:image" content="https://r-world-devs.github.io/cohortBuilder/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">cohortBuilder</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9037</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../articles/cohortBuilder.html">
    <span class="fa fa fa fa-thumbs-o-up"></span>
     
    Get started
  </a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">
    <span class="fa fa fa fa-file-code-o"></span>
     
    Functions
  </a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown--articles">
    <span class="fa fa fa fa-thumbs-o-up"></span>
     
    Articles
  </a>
  <div class="dropdown-menu" aria-labelledby="dropdown--articles">
    <a class="dropdown-item" href="../articles/managing-cohort.html">Managing Cohort Object</a>
    <a class="dropdown-item" href="../articles/cohort-configuration.html">Variants for Cohort Configuration</a>
    <a class="dropdown-item" href="../articles/binding-keys.html">Specifying data relations with Binding Keys</a>
    <a class="dropdown-item" href="../articles/custom-filters.html">Implementing custom filters</a>
    <a class="dropdown-item" href="../articles/custom-extensions.html">Writing custom extensions</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">
    <span class="fa fa fa fa-newspaper-o"></span>
     
    News
  </a>
</li>
<li class="nav-item">
  <a class="nav-link" href="https://r-world-devs.github.io/cohortBuilder/issues">
    <span class="fa fa fa fa-ambulance"></span>
     
    Issues
  </a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/r-world-devs/shinyGizmo/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Source compatibility methods.</h1>
      <small class="dont-index">Source: <a href="https://github.com/r-world-devs/shinyGizmo/blob/HEAD/R/source_methods.R" class="external-link"><code>R/source_methods.R</code></a>, <a href="https://github.com/r-world-devs/shinyGizmo/blob/HEAD/R/attrition.R" class="external-link"><code>R/attrition.R</code></a>, <a href="https://github.com/r-world-devs/shinyGizmo/blob/HEAD/R/bind_keys.R" class="external-link"><code>R/bind_keys.R</code></a>, and 1 more</small>
      <div class="d-none name"><code>source-layer.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>List of methods that allow compatibility of different source types.
Most of the methods should be defined in order to make new source layer functioning.
See 'Details' section for more information.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">.init_step</span><span class="op">(</span><span class="va">source</span>, <span class="va">...</span><span class="op">)</span>

<span class="co"># S3 method for default</span>
<span class="fu">.init_step</span><span class="op">(</span><span class="va">source</span>, <span class="va">...</span><span class="op">)</span>

<span class="fu">.collect_data</span><span class="op">(</span><span class="va">source</span>, <span class="va">data_object</span><span class="op">)</span>

<span class="co"># S3 method for default</span>
<span class="fu">.collect_data</span><span class="op">(</span><span class="va">source</span>, <span class="va">data_object</span><span class="op">)</span>

<span class="fu">.get_stats</span><span class="op">(</span><span class="va">source</span>, <span class="va">data_object</span><span class="op">)</span>

<span class="co"># S3 method for default</span>
<span class="fu">.get_stats</span><span class="op">(</span><span class="va">source</span>, <span class="va">data_object</span><span class="op">)</span>

<span class="fu">.pre_filtering</span><span class="op">(</span><span class="va">source</span>, <span class="va">data_object</span>, <span class="va">step_id</span><span class="op">)</span>

<span class="fu">.post_filtering</span><span class="op">(</span><span class="va">source</span>, <span class="va">data_object</span>, <span class="va">step_id</span><span class="op">)</span>

<span class="co"># S3 method for default</span>
<span class="fu">.pre_filtering</span><span class="op">(</span><span class="va">source</span>, <span class="va">data_object</span>, <span class="va">step_id</span><span class="op">)</span>

<span class="co"># S3 method for default</span>
<span class="fu">.post_filtering</span><span class="op">(</span><span class="va">source</span>, <span class="va">data_object</span>, <span class="va">step_id</span><span class="op">)</span>

<span class="fu">.get_attrition_label</span><span class="op">(</span><span class="va">source</span>, <span class="va">step_id</span>, <span class="va">step_filters</span>, <span class="va">...</span><span class="op">)</span>

<span class="co"># S3 method for default</span>
<span class="fu">.get_attrition_label</span><span class="op">(</span><span class="va">source</span>, <span class="va">step_id</span>, <span class="va">step_filters</span>, <span class="va">...</span><span class="op">)</span>

<span class="fu">.get_attrition_count</span><span class="op">(</span><span class="va">source</span>, <span class="va">data_stats</span>, <span class="va">...</span><span class="op">)</span>

<span class="co"># S3 method for default</span>
<span class="fu">.get_attrition_count</span><span class="op">(</span><span class="va">source</span>, <span class="va">data_stats</span>, <span class="va">dataset</span>, <span class="va">...</span><span class="op">)</span>

<span class="fu">.run_binding</span><span class="op">(</span><span class="va">source</span>, <span class="va">...</span><span class="op">)</span>

<span class="co"># S3 method for default</span>
<span class="fu">.run_binding</span><span class="op">(</span><span class="va">source</span>, <span class="va">binding_key</span>, <span class="va">data_object_pre</span>, <span class="va">data_object_post</span>, <span class="va">...</span><span class="op">)</span>

<span class="co"># S3 method for tblist</span>
<span class="fu">.init_step</span><span class="op">(</span><span class="va">source</span>, <span class="va">...</span><span class="op">)</span>

<span class="co"># S3 method for tblist</span>
<span class="fu">.collect_data</span><span class="op">(</span><span class="va">source</span>, <span class="va">data_object</span><span class="op">)</span>

<span class="co"># S3 method for tblist</span>
<span class="fu">.get_stats</span><span class="op">(</span><span class="va">source</span>, <span class="va">data_object</span><span class="op">)</span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>source</dt>
<dd><p>Source object.</p></dd>
<dt>...</dt>
<dd><p>Other parameters passed to specific method.</p></dd>
<dt>data_object</dt>
<dd><p>Object that allows source data access.
`data_object` is the result of `.init_step` method (or object of the same structure).</p></dd>
<dt>step_id</dt>
<dd><p>Name of the step visible in resulting plot.</p></dd>
<dt>step_filters</dt>
<dd><p>List of step filters.</p></dd>
<dt>data_stats</dt>
<dd><p>Data frame presenting statistics for each filtering step.</p></dd>
<dt>dataset</dt>
<dd><p>Dataset name.</p></dd>
<dt>binding_key</dt>
<dd><p>Binding key describing currently processed relation.</p></dd>
<dt>data_object_pre</dt>
<dd><p>Object storing unfiltered data in the current step (previous step result).</p></dd>
<dt>data_object_post</dt>
<dd><p>Object storing current data (including active filtering and previously done bindings).</p></dd>
</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The package is designed to make the functionality work with multiple data sources.
Data source can be based for example on list of tables, connection to database schema
or API service that allows to access and operate on data.
In order to make new source type layer functioning, the following list of methods
should be defined:</p><ul><li><p>.init_source Defines how to extract data object from source.
  Each filtering step assumes to be operating on resulting data object
  (further named data_object) and returns object of the same type and structure.</p></li>
<li><p>.collect_data Defines how to collect data (into R memory) from `data_object`.</p></li>
<li><p>.get_stats Defines what `data_object` statistics should be
  calculated and how. When provided the stats can be extracted using <a href="stat.html">stat</a>.</p></li>
<li><p>.pre_filtering (optional) Defines what operation on `data_object` should be
  performed before applying filtering in the step.</p></li>
<li><p>.post_filtering (optional) Defines what operation on `data_object` should be
  performed after applying filtering in the step.</p></li>
<li><p>.run_binding (optional) Defines how to handle post filtering data binding.
  See more about binding keys at <a href="binding-keys.html">binding-keys</a>.</p></li>
<li><p>.get_attrition_count and .get_attrition_label Methods defining how to
  get statistics and labels for attrition plot.</p></li>
</ul><p>Except from the above methods, you may extend the existing or new source with providing
custom filtering methods. See <a href="creating-filters.html">creating-filters</a>.
In order to see more details about how to implement custom source check `vignette("defining-source")`.</p>
    </div>

  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Krystian Igras.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.2.</p>
</div>

    </footer></div>

  

  

  </body></html>

